"use strict";!function(){var e=document.body,t=document.querySelector(".page-header__button"),o=document.querySelector(".popup");if(o)var s=o.querySelector(".popup__close"),n=o.querySelector("[name=popup-name]"),a=o.querySelector("[name=popup-tel]"),l=o.querySelector("[name=popup-comment]");var i=document.querySelector(".page-footer__list-button--navi"),r=document.querySelector(".page-footer__navi-list"),c=document.querySelector(".page-footer__list-button--contacts"),d=document.querySelector(".page-footer__contacts-list"),u=document.querySelectorAll(".page-footer__list-button"),v=document.querySelectorAll(".page-footer__navi-heading"),_=document.querySelector(".feedback__form");if(_)var p=_.querySelector("[name=name]"),f=_.querySelector("[name=tel]"),m=_.querySelector("[name=comment]");t&&t.addEventListener("click",(function(e){e.preventDefault(),L()}));var L=function(){o&&(o.classList.remove("popup--closed"),e.style.overflow="hidden",n.focus(),s.addEventListener("click",g),document.addEventListener("keydown",y),document.addEventListener("click",h))},g=function(){o.classList.add("popup--closed"),e.style.removeProperty("overflow"),b(),s.removeEventListener("click",g),document.removeEventListener("keydown",y),document.removeEventListener("click",h)},y=function(e){27===e.keyCode&&(e.preventDefault(),g())},h=function(e){e.target.classList.contains("popup")&&g()},b=function(){n.value="",a.value="",l.value="",n.style.border="none",a.style.border="none"};_&&_.addEventListener("submit",(function(){localStorage.setItem("name",p.value),localStorage.setItem("phone",f.value),localStorage.setItem("question",m.value)})),o&&o.addEventListener("submit",(function(){localStorage.setItem("name",n.value),localStorage.setItem("phone",a.value),localStorage.setItem("question",l.value)})),window.addEventListener("DOMContentLoaded",(function(){function e(e){var t=0,o="+7 (___) ___-__-__".replace(/\D/g,""),s=this.value.replace(/\D/g,"");o.length>=s.length&&(s=o),this.value="+7 (___) ___-__-__".replace(/./g,(function(e){return/[_\d]/.test(e)&&t<s.length?s.charAt(t++):t>=s.length?"":e})),"blur"===e.type?2===this.value.length&&(this.value=""):function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var o=t.createTextRange();o.collapse(!0),o.moveEnd("character",e),o.moveStart("character",e),o.select()}}(this.value.length,this)}if(_){var t=_.querySelector("#tel");t.addEventListener("input",e,!1),t.addEventListener("focus",e,!1),t.addEventListener("blur",e,!1)}if(o){var s=o.querySelector("#popup-tel");s.addEventListener("input",e,!1),s.addEventListener("focus",e,!1),s.addEventListener("blur",e,!1)}})),window.innerWidth<=767&&(r&&r.classList.add("visually-hidden"),d&&d.classList.add("visually-hidden")),window.addEventListener("resize",(function(){window.innerWidth<=767?(r&&(r.classList.add("visually-hidden"),i.classList.add("page-footer__list-button--closed"),i.classList.remove("page-footer__list-button--opened")),d&&(d.classList.add("visually-hidden"),c.classList.add("page-footer__list-button--closed"),c.classList.remove("page-footer__list-button--opened"))):(r&&r.classList.remove("visually-hidden"),d&&d.classList.remove("visually-hidden"))}));var S=function(e){var t=e.target;(t===i||t.classList.contains("page-footer__navi-heading--sections"))&&(i.classList.contains("page-footer__list-button--opened")?(i.classList.remove("page-footer__list-button--opened"),i.classList.add("page-footer__list-button--closed"),r.classList.add("visually-hidden")):(r.classList.remove("visually-hidden"),i.classList.remove("page-footer__list-button--closed"),i.classList.add("page-footer__list-button--opened"),d.classList.add("visually-hidden"),c.classList.remove("page-footer__list-button--opened"),c.classList.add("page-footer__list-button--closed"))),(t===c||t.classList.contains("page-footer__navi-heading--contacts"))&&(c.classList.contains("page-footer__list-button--opened")?(c.classList.remove("page-footer__list-button--opened"),c.classList.add("page-footer__list-button--closed"),d.classList.add("visually-hidden")):(d.classList.remove("visually-hidden"),c.classList.remove("page-footer__list-button--closed"),c.classList.add("page-footer__list-button--opened"),r.classList.add("visually-hidden"),i.classList.remove("page-footer__list-button--opened"),i.classList.add("page-footer__list-button--closed")))};if(u)for(var q=0;q<u.length;q++)u[q].addEventListener("click",S);if(v)for(q=0;q<v.length;q++)v[q].addEventListener("click",S)}();